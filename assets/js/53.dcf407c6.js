(window.webpackJsonp=window.webpackJsonp||[]).push([[53],{219:function(t,e,s){"use strict";s.r(e);var r=s(0),a=Object(r.a)({},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"content"},[t._m(0),t._v(" "),s("p",[s("a",{attrs:{href:"https://cloud.tencent.com/redirect.php?redirect=10058&cps_key=3a5255852d5db99dcd5da4c72f05df61",target:"_blank",rel:"noopener noreferrer"}},[s("img",{attrs:{src:"https://img.shields.io/badge/AD-%E8%85%BE%E8%AE%AF%E4%BA%91%E5%AE%B9%E5%99%A8%E6%9C%8D%E5%8A%A1-blue.svg",alt:""}}),s("OutboundLink")],1),t._v(" "),s("a",{attrs:{href:"https://cloud.tencent.com/developer/support-plan?invite_code=13vokmlse8afh",target:"_blank",rel:"noopener noreferrer"}},[s("img",{attrs:{src:"https://img.shields.io/badge/Support-%E8%85%BE%E8%AE%AF%E4%BA%91%E8%87%AA%E5%AA%92%E4%BD%93-brightgreen.svg",alt:""}}),s("OutboundLink")],1)]),t._v(" "),s("p",[t._v("第一种方法是自行到国内云服务商等处申请 SSL 证书。")]),t._v(" "),s("p",[t._v("你也可以使用以下命令申请（由 "),s("a",{attrs:{href:"https://github.com/Neilpang/acme.sh",target:"_blank",rel:"noopener noreferrer"}},[t._v("acme.sh"),s("OutboundLink")],1),t._v(" 提供技术支持，感谢 "),s("a",{attrs:{href:"https://letsencrypt.org/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Let's Encrypt"),s("OutboundLink")],1),t._v("）。")]),t._v(" "),t._m(1),t._v(" "),s("p",[t._v("Let's Encrypt 现已支持通过 DNS 验证来申请通配符证书，本例以通配符证书为例。")]),t._v(" "),t._m(2),t._v(" "),s("p",[t._v("在 https://github.com/Neilpang/acme.sh/tree/master/dnsapi 找到自己域名的 DNS 服务商代码，例如")]),t._v(" "),t._m(3),t._v(" "),s("p",[t._v("...")]),t._v(" "),t._m(4),t._v(" "),t._m(5),t._v(" "),t._m(6),t._v(" "),s("p",[t._v("...")]),t._v(" "),t._m(7),t._v(" "),t._m(8),t._v(" "),t._m(9),t._v(" "),t._m(10),t._m(11),t._v(" "),t._m(12),t._v(" "),t._m(13),t._v(" "),t._m(14),t._m(15),t._v(" "),t._m(16),t._m(17),t._v(" "),t._m(18),t._v(" "),t._m(19),t._v(" "),t._m(20),t._v(" "),t._m(21),t._m(22),t._v(" "),t._m(23),t._v(" "),t._m(24),t._v(" "),t._m(25),t._v(" "),t._m(26),t._v(" "),t._m(27),t._v(" "),t._m(28),t._v(" "),t._m(29),t._v(" "),s("p",[s("a",{attrs:{href:"https://github.com/khs1994-website/tls-1.3",target:"_blank",rel:"noopener noreferrer"}},[t._v("原生支持 TLSv1.3"),s("OutboundLink")],1),t._v(".")]),t._v(" "),t._m(30),t._v(" "),t._m(31)])},[function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"申请-ssl-证书"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#申请-ssl-证书","aria-hidden":"true"}},[this._v("#")]),this._v(" 申请 SSL 证书")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"通配符证书"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#通配符证书","aria-hidden":"true"}},[this._v("#")]),this._v(" 通配符证书")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"确定域名的-dns-服务商"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#确定域名的-dns-服务商","aria-hidden":"true"}},[this._v("#")]),this._v(" 确定域名的 DNS 服务商")])},function(){var t=this.$createElement,e=this._self._c||t;return e("ul",[e("li",[e("p",[e("code",[this._v("dnspod.cn")]),this._v(" 代码为 "),e("code",[this._v("dns_dp")])])]),this._v(" "),e("li",[e("p",[e("code",[this._v("GoDaddy.com")]),this._v(" 代码为 "),e("code",[this._v("dns_gd")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"修改-env-文件"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#修改-env-文件","aria-hidden":"true"}},[this._v("#")]),this._v(" 修改 .env 文件")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("根据 DNS 服务商，自行在 "),e("code",[this._v(".env")]),this._v(" 文件设置相关变量")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ul",[s("li",[s("p",[t._v("dnspod.cn")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# [DNSPOD]")]),t._v("\nDNS_TYPE"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("dns_dp\n\nDP_Id"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("\nDP_Key"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("\n")])])])]),t._v(" "),s("li",[s("p",[t._v("GoDaddy.com")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# DNS 服务商")]),t._v("\nDNS_TYPE"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("dns_gd\n\nGD_Key"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("sdf"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),t._v(".\nGD_Secret"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("sdf"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),t._v(".\n")])])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"申请网站证书"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#申请网站证书","aria-hidden":"true"}},[this._v("#")]),this._v(" 申请网站证书")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("除了 "),e("code",[this._v("acme.sh")]),this._v(" 原始参数外，支持以下参数")])},function(){var t=this.$createElement,e=this._self._c||t;return e("ul",[e("li",[e("p",[e("code",[this._v("--httpd")])])]),this._v(" "),e("li",[e("p",[e("code",[this._v("--rsa")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[this._v("$ ./lnmp-docker ssl example.com -d *.example.com -d t.example.com -d *.t.example.com "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[this._v("[")]),this._v("--debug"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[this._v("]")]),this._v("\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("blockquote",[e("p",[this._v("特别提示，"),e("code",[this._v("*.example.com")]),this._v(" 的证书不支持 "),e("code",[this._v("example.com")]),this._v(" 所以一个主域要写两次")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("blockquote",[e("p",[this._v("特别提示，第一个网址不用加 "),e("code",[this._v("-d")]),this._v(" 参数，后面的需要加 "),e("code",[this._v("-d")]),this._v(" 参数")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("若你的网站服务器不是 NGINX 而是 HTTPD，那么请加上 "),e("code",[this._v("--httpd")]),this._v(" 参数，即")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[this._v("$ ./lnmp-docker ssl example.com -d *.example.com --httpd\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("默认申请 "),e("code",[this._v("ECC")]),this._v(" 证书，你可以加上 "),e("code",[this._v("--rsa")]),this._v(" 来申请 RSA 证书，即")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[this._v("$ ./lnmp-docker ssl example.com -d *.example.com --rsa\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"生成证书的位置"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#生成证书的位置","aria-hidden":"true"}},[this._v("#")]),this._v(" 生成证书的位置")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("code",[this._v("./config/nginx/ssl/*")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"其他"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#其他","aria-hidden":"true"}},[this._v("#")]),this._v(" 其他")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"签发自签名证书"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#签发自签名证书","aria-hidden":"true"}},[this._v("#")]),this._v(" 签发自签名证书")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[this._v("$ ./lnmp-docker ssl-self khs1994.com *.khs1994.com 127.0.0.1 localhost\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("生成的 ssl 文件位于 "),e("code",[this._v("./config/nginx/ssl-self")]),this._v("。")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("务必在浏览器导入根证书（"),e("code",[this._v("./config/nginx/ssl-self/root-ca.crt")]),this._v("）。")])},function(){var t=this.$createElement,e=this._self._c||t;return e("blockquote",[e("p",[e("code",[this._v("https://*.t.khs1994.com")]),this._v(" 均指向 "),e("code",[this._v("127.0.0.1")]),this._v(" 你可以使用这个网址测试 "),e("code",[this._v("https")]),this._v("。")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"示例配置"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#示例配置","aria-hidden":"true"}},[this._v("#")]),this._v(" 示例配置")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("请查看 "),e("code",[this._v("./config/nginx/demo-*.conf")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"第三方工具"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#第三方工具","aria-hidden":"true"}},[this._v("#")]),this._v(" 第三方工具")])},function(){var t=this.$createElement,e=this._self._c||t;return e("ul",[e("li",[this._v("https://zerossl.com/")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"tlsv1-3"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#tlsv1-3","aria-hidden":"true"}},[this._v("#")]),this._v(" TLSv1.3")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h1",{attrs:{id:"more-information"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#more-information","aria-hidden":"true"}},[this._v("#")]),this._v(" More Information")])},function(){var t=this.$createElement,e=this._self._c||t;return e("ul",[e("li",[e("p",[this._v("https://letsencrypt.org/docs/client-options/")])]),this._v(" "),e("li",[e("p",[this._v("https://github.com/khs1994-website/server-side-tls")])]),this._v(" "),e("li",[e("p",[this._v("https://github.com/khs1994-docker/tls")])])])}],!1,null,null,null);e.default=a.exports}}]);