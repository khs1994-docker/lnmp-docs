(window.webpackJsonp=window.webpackJsonp||[]).push([[57],{224:function(t,s,e){"use strict";e.r(s);var a=e(0),n=Object(a.a)({},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"content"},[t._m(0),t._v(" "),e("p",[e("a",{attrs:{href:"https://cloud.tencent.com/redirect.php?redirect=10058&cps_key=3a5255852d5db99dcd5da4c72f05df61",target:"_blank",rel:"noopener noreferrer"}},[e("img",{attrs:{src:"https://img.shields.io/badge/AD-%E8%85%BE%E8%AE%AF%E4%BA%91%E5%AE%B9%E5%99%A8%E6%9C%8D%E5%8A%A1-blue.svg",alt:""}}),e("OutboundLink")],1),t._v(" "),e("a",{attrs:{href:"https://cloud.tencent.com/developer/support-plan?invite_code=13vokmlse8afh",target:"_blank",rel:"noopener noreferrer"}},[e("img",{attrs:{src:"https://img.shields.io/badge/Support-%E8%85%BE%E8%AE%AF%E4%BA%91%E8%87%AA%E5%AA%92%E4%BD%93-brightgreen.svg",alt:""}}),e("OutboundLink")],1)]),t._v(" "),t._m(1),t._v(" "),t._m(2),t._v(" "),t._m(3),t._m(4),t._v(" "),t._m(5),t._m(6),t._v(" "),t._m(7),t._m(8),t._v(" "),t._m(9),t._m(10),t._v(" "),t._m(11),t._v(" "),t._m(12),t._v(" "),t._m(13),t._v(" "),t._m(14),t._v(" "),t._m(15),t._m(16),t._v(" "),t._m(17),t._m(18),t._v(" "),e("p",[t._v("与上方内容类似，这里不再赘述。")]),t._v(" "),t._m(19),t._v(" "),t._m(20),t._v(" "),t._m(21),t._v(" "),t._m(22),t._v(" "),t._m(23),t._v(" "),t._m(24),t._v(" "),t._m(25),t._v(" "),t._m(26)])},[function(){var t=this.$createElement,s=this._self._c||t;return s("h1",{attrs:{id:"命令行补全"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#命令行补全","aria-hidden":"true"}},[this._v("#")]),this._v(" 命令行补全")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("设置环境变量 "),s("code",[this._v("LNMP_PATH")]),this._v(" 为本项目的绝对路径(下面以 "),s("code",[this._v("/data/lnmp")]),this._v(" 为例，实际请替换为你自己的路径)，这样你就可以在任意目录使用本项目的 CLI。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"bash"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#bash","aria-hidden":"true"}},[this._v("#")]),this._v(" Bash")])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[t._v("$ "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("vi")]),t._v(" ~/.bash_profile\n\n"),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("export")]),t._v(" LNMP_PATH"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("/data/lnmp\n\n"),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("export")]),t._v(" PATH"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$LNMP_PATH")]),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$LNMP_PATH")]),t._v("/bin:"),e("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$PATH")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"linux"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#linux","aria-hidden":"true"}},[this._v("#")]),this._v(" Linux")])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[this._v("$ "),s("span",{pre:!0,attrs:{class:"token function"}},[this._v("sudo")]),this._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[this._v("ln")]),this._v(" -s "),s("span",{pre:!0,attrs:{class:"token variable"}},[this._v("$LNMP_PATH")]),this._v("/cli/completion/bash/lnmp-docker /etc/bash_completion.d/lnmp-docker\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"macos"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#macos","aria-hidden":"true"}},[this._v("#")]),this._v(" macOS")])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[this._v("$ "),s("span",{pre:!0,attrs:{class:"token function"}},[this._v("sudo")]),this._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[this._v("ln")]),this._v(" -s "),s("span",{pre:!0,attrs:{class:"token variable"}},[this._v("$LNMP_PATH")]),this._v("/cli/completion/bash/lnmp-docker /usr/local/etc/bash_completion.d/lnmp-docker\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"fish"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#fish","aria-hidden":"true"}},[this._v("#")]),this._v(" fish")])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[this._v("$ "),s("span",{pre:!0,attrs:{class:"token keyword"}},[this._v("set")]),this._v(" -Ux LNMP_PATH /data/lnmp\n\n$ "),s("span",{pre:!0,attrs:{class:"token function"}},[this._v("ln")]),this._v(" -s "),s("span",{pre:!0,attrs:{class:"token variable"}},[this._v("$LNMP_PATH")]),this._v("/cli/completion/fish/lnmp-docker.fish ~/.config/fish/completions/\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("blockquote",[s("p",[this._v("删除环境变量 "),s("code",[this._v("$ set -Ue LNMP_PATH")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h1",{attrs:{id:"systemd"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#systemd","aria-hidden":"true"}},[this._v("#")]),this._v(" systemd")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("systemd 文件位于 "),s("code",[this._v("cli/systemd/*")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("适用于 "),s("code",[this._v("Linux x86_64")]),this._v(" 开发环境。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("blockquote",[s("p",[this._v("务必熟悉 "),s("code",[this._v("systemd")]),this._v(" 之后再执行此项操作。")])])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[t._v("$ "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("cp")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$LNMP_PATH")]),t._v("/cli/systemd/lnmp-docker.service /etc/systemd/system/\n\n$ "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("vi")]),t._v(" /etc/systemd/system/lnmp-docker.service\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 务必自行修改路径为本项目实际路径")]),t._v("\n\n$ "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" systemctl daemon-reload\n\n$ "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" systemctl start lnmp-docker\n\n$ "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" systemctl status lnmp-docker\n\n$ "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" systemctl stop lnmp-docker\n\n$ "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" journalctl -u lnmp-docker\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"每周清理日志"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#每周清理日志","aria-hidden":"true"}},[this._v("#")]),this._v(" 每周清理日志")])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[t._v("$ "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("cp")]),t._v(" -a "),e("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$LNMP_PATH")]),t._v("/cli/systemd/*-cleanup /etc/systemd/system/\n\n$ "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("vi")]),t._v(" /etc/systemd/system/lnmp-docker-cleanup.service\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 务必自行修改路径为本项目实际路径")]),t._v("\n\n$ "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" systemctl daemon-reload\n\n$ "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" systemctl "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("enable")]),t._v(" cleanup-lnmp-docker.timer\n\n$ "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" systemctl start cleanup-lnmp-docker.timer\n\n$ systemctl list-timers\n\n$ "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" journalctl -u cleanup-lnmp-docker\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"定时备份数据文件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#定时备份数据文件","aria-hidden":"true"}},[this._v("#")]),this._v(" 定时备份数据文件")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"laravel-队列-queue"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#laravel-队列-queue","aria-hidden":"true"}},[this._v("#")]),this._v(" Laravel 队列(Queue)")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("原理就是执行 "),s("code",[this._v("$ docker exec -it PHP_CONTAINER_ID COMMAND")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("由 "),s("code",[this._v("systemd")]),this._v(" 管理")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"laravel-调度器-schedule"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#laravel-调度器-schedule","aria-hidden":"true"}},[this._v("#")]),this._v(" Laravel 调度器(Schedule)")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("原理就是执行 "),s("code",[this._v("$ docker exec -it PHP_CONTAINER_ID COMMAND")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("由 "),s("code",[this._v("systemd")]),this._v(" 管理")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h1",{attrs:{id:"more-information"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#more-information","aria-hidden":"true"}},[this._v("#")]),this._v(" More Information")])},function(){var t=this.$createElement,s=this._self._c||t;return s("ul",[s("li",[this._v("https://blog.khs1994.com/linux/systemd.html")])])}],!1,null,null,null);s.default=n.exports}}]);