(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{210:function(s,a,e){"use strict";e.r(a);var t=e(0),n=Object(t.a)({},(function(){var s=this,a=s.$createElement,e=s._self._c||a;return e("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[e("h1",{attrs:{id:"使用自己构建的镜像-对全部服务生效"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#使用自己构建的镜像-对全部服务生效"}},[s._v("#")]),s._v(" 使用自己构建的镜像(对全部服务生效)")]),s._v(" "),e("p",[e("code",[s._v(".env")]),s._v(" 文件更改以下变量")]),s._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("LNMP_BUILD_DOCKER_IMAGE_PREFIX")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("username\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# LNMP_BUILD_DOCKER_IMAGE_PREFIX=domain.com/username")]),s._v("\n")])])]),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[s._v("$ "),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" dockerfile/SOFT_NAME\n\n$ "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("cp")]),s._v(" example.Dockerfile Dockerfile\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 编辑 Dockerfile")]),s._v("\n$ "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("vi")]),s._v(" Dockerfile\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 先构建镜像，若自定义镜像已存在，可不进行构建（跳过此步）")]),s._v("\n$ lnmp-docker build\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 启动")]),s._v("\n$ lnmp-docker build-up --no-build\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 测试")]),s._v("\n$ "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("curl")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("127.0")]),s._v(".0.1\n\nWelcome use khs1994-docker/lnmp v18.06 x86_64 With Build Docker Image\n\ndevelopment\n")])])]),e("h1",{attrs:{id:"使用自己的镜像-除使用官方镜像的服务以外"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#使用自己的镜像-除使用官方镜像的服务以外"}},[s._v("#")]),s._v(" 使用自己的镜像(除使用官方镜像的服务以外)")]),s._v(" "),e("p",[e("code",[s._v(".env")]),s._v(" 文件更改以下变量")]),s._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# LNMP_DOCKER_IMAGE_PREFIX=khs1994")]),s._v("\n\n"),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("LNMP_DOCKER_IMAGE_PREFIX")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("username\n")])])]),e("h2",{attrs:{id:"部分服务使用自己镜像"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#部分服务使用自己镜像"}},[s._v("#")]),s._v(" 部分服务使用自己镜像")]),s._v(" "),e("p",[s._v("在 "),e("code",[s._v("docker-lnmp.include.yml")]),s._v(" 文件中重写对应服务的 "),e("code",[s._v("image")]),s._v(" 指令。")])])}),[],!1,null,null,null);a.default=n.exports}}]);