(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{367:function(a,s,e){"use strict";e.r(s);var t=e(42),n=Object(t.a)({},(function(){var a=this,s=a.$createElement,e=a._self._c||s;return e("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[e("h1",{attrs:{id:"使用自己的镜像-对全部服务生效"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#使用自己的镜像-对全部服务生效"}},[a._v("#")]),a._v(" 使用自己的镜像(对全部服务生效)")]),a._v(" "),e("p",[e("code",[a._v(".env")]),a._v(" 文件更改以下变量")]),a._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("LNMP_BUILD_DOCKER_IMAGE_PREFIX")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("username\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# LNMP_BUILD_DOCKER_IMAGE_PREFIX=domain.com/username")]),a._v("\n")])])]),e("h2",{attrs:{id:"构建-或拉取-镜像"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#构建-或拉取-镜像"}},[a._v("#")]),a._v(" 构建（或拉取）镜像")]),a._v(" "),e("p",[e("strong",[a._v("1. 构建镜像")])]),a._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[a._v("$ "),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("cd")]),a._v(" dockerfile/SOFT_NAME\n\n$ "),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("cp")]),a._v(" example.Dockerfile Dockerfile\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 编辑 Dockerfile")]),a._v("\n$ "),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("vi")]),a._v(" Dockerfile\n\n$ lnmp-docker build\n")])])]),e("p",[e("strong",[a._v("2. 拉取镜像")])]),a._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[a._v("$ lnmp-docker build-pull\n")])])]),e("h2",{attrs:{id:"启动"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#启动"}},[a._v("#")]),a._v(" 启动")]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("# 默认加入了 --no-build 参数，必须保证执行 build-up 前镜像已经存在，具体请参考上面的内容\n$ lnmp-docker build-up\n\n# 测试\n$ curl 127.0.0.1\n\nWelcome use khs1994-docker/lnmp v18.06 x86_64 With Build Docker Image\n\ndevelopment\n")])])]),e("h1",{attrs:{id:"使用自己的镜像-除使用官方镜像的服务以外"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#使用自己的镜像-除使用官方镜像的服务以外"}},[a._v("#")]),a._v(" 使用自己的镜像(除使用官方镜像的服务以外)")]),a._v(" "),e("p",[e("code",[a._v(".env")]),a._v(" 文件更改以下变量")]),a._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# LNMP_DOCKER_IMAGE_PREFIX=khs1994")]),a._v("\n\n"),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("LNMP_DOCKER_IMAGE_PREFIX")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("username\n")])])]),e("h2",{attrs:{id:"部分服务使用自己镜像"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#部分服务使用自己镜像"}},[a._v("#")]),a._v(" 部分服务使用自己镜像")]),a._v(" "),e("p",[a._v("在 "),e("code",[a._v("docker-lnmp.include.yml")]),a._v(" 文件中重写对应服务的 "),e("code",[a._v("image")]),a._v(" 指令。")])])}),[],!1,null,null,null);s.default=n.exports}}]);