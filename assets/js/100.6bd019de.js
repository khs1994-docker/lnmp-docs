(window.webpackJsonp=window.webpackJsonp||[]).push([[100],{452:function(t,a,s){"use strict";s.r(a);var e=s(42),n=Object(e.a)({},(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"mutagen"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#mutagen"}},[t._v("#")]),t._v(" mutagen")]),t._v(" "),s("ul",[s("li",[t._v("https://github.com/mutagen-io/mutagen")])]),t._v(" "),s("h1",{attrs:{id:"mutagen-解决-windows-docker-wsl2-文件性能问题"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#mutagen-解决-windows-docker-wsl2-文件性能问题"}},[t._v("#")]),t._v(" mutagen 解决 Windows Docker(WSL2) 文件性能问题")]),t._v(" "),s("p",[t._v("在 "),s("code",[t._v(".env")]),t._v(" 文件中设置 "),s("code",[t._v("APP_ROOT")]),t._v(" 为 "),s("code",[t._v("/app")]),t._v("。")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("APP_ROOT")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("/app\n")])])]),s("p",[t._v("参照 "),s("code",[t._v("mutagen.example.yml")]),t._v(" 文件，增加 "),s("code",[t._v("mutagen.yml")]),t._v(" 文件")]),t._v(" "),s("div",{staticClass:"language-yaml extra-class"},[s("pre",{pre:!0,attrs:{class:"language-yaml"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# mutagen.yml")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("sync")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("wsl2")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("mode")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" one"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("way"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("safe\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("ignore")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("vcs")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean important"}},[t._v("true")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("alpha")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"./app"')]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("beta")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"docker://lnmp_mutagen-wsl2_1/app"')]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("permissions")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("defaultFileMode")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0666")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("defaultDirectoryMode")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("765")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# defaultOwner: www-data")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# defaultGroup: id:33")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("beforeCreate")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" powershell lnmp"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("docker.ps1 up mutagen"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("wsl2\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# - pwsh lnmp-docker.ps1 up mutagen-wsl2")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("afterTerminate")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" powershell lnmp"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("docker.ps1 stop mutagen"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("wsl2\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# - pwsh lnmp-docker.ps1 stop mutagen-wsl2")]),t._v("\n\n")])])]),s("p",[t._v("在 https://github.com/mutagen-io/mutagen/releases 下载，解压后将 "),s("code",[t._v("mutagen.exe")]),t._v(" "),s("code",[t._v("mutagen-agents.tar.gz")]),t._v(" 两个文件都放到 "),s("code",[t._v("PATH")]),t._v("(例如: "),s("code",[t._v("C:\\bin")]),t._v(")")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("$ mutagen project start\n$ mutagen project list\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 停止")]),t._v("\n$ mutagen project terminate\n")])])]),s("p",[t._v("这样 Windows 的 "),s("code",[t._v("./app")]),t._v(" 同步到 WSL2 的 "),s("code",[t._v("/app")]),t._v("，需要挂载项目的容器只需使用 "),s("code",[t._v("-v /app:/in-container/app-path")]),t._v(" 参数即可。")])])}),[],!1,null,null,null);a.default=n.exports}}]);