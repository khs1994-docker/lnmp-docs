(window.webpackJsonp=window.webpackJsonp||[]).push([[54],{220:function(t,e,r){"use strict";r.r(e);var s=r(0),i=Object(s.a)({},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"content"},[t._m(0),t._v(" "),r("p",[r("a",{attrs:{href:"https://cloud.tencent.com/redirect.php?redirect=10058&cps_key=3a5255852d5db99dcd5da4c72f05df61",target:"_blank",rel:"noopener noreferrer"}},[r("img",{attrs:{src:"https://img.shields.io/badge/AD-%E8%85%BE%E8%AE%AF%E4%BA%91%E5%AE%B9%E5%99%A8%E6%9C%8D%E5%8A%A1-blue.svg",alt:""}}),r("OutboundLink")],1),t._v(" "),r("a",{attrs:{href:"https://cloud.tencent.com/developer/support-plan?invite_code=13vokmlse8afh",target:"_blank",rel:"noopener noreferrer"}},[r("img",{attrs:{src:"https://img.shields.io/badge/Support-%E8%85%BE%E8%AE%AF%E4%BA%91%E8%87%AA%E5%AA%92%E4%BD%93-brightgreen.svg",alt:""}}),r("OutboundLink")],1)]),t._v(" "),t._m(1),t._v(" "),t._m(2),t._v(" "),t._m(3),t._v(" "),r("p",[t._v("本项目生产环境目标是超大规模 Docker 集群。")]),t._v(" "),t._m(4),t._v(" "),t._m(5),t._v(" "),t._m(6),t._v(" "),t._m(7),t._v(" "),t._m(8),t._v(" "),t._m(9),t._v(" "),t._m(10),t._v(" "),t._m(11),t._v(" "),t._m(12),t._v(" "),t._m(13),t._v(" "),r("p",[t._v("生产环境默认不启用该软件。")]),t._v(" "),t._m(14),t._v(" "),r("p",[t._v("Docker 镜像分发可以使用 Docker 私有仓库。")]),t._v(" "),t._m(15)])},[function(){var t=this.$createElement,e=this._self._c||t;return e("h1",{attrs:{id:"配置"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#配置","aria-hidden":"true"}},[this._v("#")]),this._v(" 配置")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("假设我们在 "),e("code",[this._v("开发环境")]),this._v(" 中已经将 PHP 项目测试完毕，并推送到了 "),e("code",[this._v("GitHub")]),this._v("，准备在生产环境部署。")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h1",{attrs:{id:"生产环境注意事项"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#生产环境注意事项","aria-hidden":"true"}},[this._v("#")]),this._v(" 生产环境注意事项")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("在生产环境中建议使用 "),e("code",[this._v("Docker Swarm mode")]),this._v(" 或 "),e("code",[this._v("k8s")]),this._v("。")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"单机"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#单机","aria-hidden":"true"}},[this._v("#")]),this._v(" 单机")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("单机环境中通过 "),e("code",[this._v("数据卷")]),this._v(" 将 "),e("code",[this._v("项目文件")]),this._v(" 挂载到容器中。")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("将 GitHub 上的 PHP 项目克隆到 "),e("code",[this._v("./app")]),this._v(" 目录下，之后使用"),e("code",[this._v("lnmp-composer ...")]),this._v(" 安装依赖。")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("在 "),e("code",[this._v("./config/nginx/*.conf")]),this._v(" 增加 nginx 配置。")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("执行 "),e("code",[this._v("./lnmp-docker swarm-deploy")]),this._v("。")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"集群"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#集群","aria-hidden":"true"}},[this._v("#")]),this._v(" 集群")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("直接将 PHP 项目打入镜像，以容器方式 ("),e("code",[this._v("Dockerfile")]),this._v(") 交付。")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"php"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#php","aria-hidden":"true"}},[this._v("#")]),this._v(" PHP")])},function(){var t=this.$createElement,e=this._self._c||t;return e("ul",[e("li",[this._v("生产环境不启用 "),e("code",[this._v("xdebug")]),this._v(" 扩展")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"phpmyadmin"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#phpmyadmin","aria-hidden":"true"}},[this._v("#")]),this._v(" phpMyAdmin")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"docker-私有仓库"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#docker-私有仓库","aria-hidden":"true"}},[this._v("#")]),this._v(" Docker 私有仓库")])},function(){var t=this.$createElement,e=this._self._c||t;return e("blockquote",[e("p",[this._v("注意这里为了表述方便将 git 统一称为 GitHub，实际项目可能不开源，会推送到私有 git 仓库中，请读者悉知。")])])}],!1,null,null,null);e.default=i.exports}}]);